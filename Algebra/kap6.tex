\section{Maximale Ideale, Primideale und faktorielle Ringe}
Im Folgenden sei $R \neq \{0_R\}$ ein kommutativer Ring.
\begin{definition}
	$I \unlhd R$ heißt \textbf{Primideal}, wenn $I \neq R$ und für alle $a,b \in R$ mit $ab \in I$ gilt $a \in I$ oder $b \in I$.
	
	$I \unlhd R$ heißt \textbf{maximales Ideal}, wenn $I \neq R$ und für alle $J \unlhd R$ mit $I \subseteq J \subseteq R$ gilt $J = I$ oder $J = R$.
\end{definition}
\begin{beispiel}\label{beispiel6_2}
	Sei $I := n\Z \unlhd \Z$ für $n \in \N_0$. Dann gilt
	\begin{align*}
		I \;\text{Primideal} \quad&\Leftrightarrow\quad n = 0 \quad\text{oder}\quad n \;\text{Primzahl}\\
		I \;\text{maximales Ideal} \quad&\Leftrightarrow\quad n \;\text{Primzahl}.
	\end{align*}
\end{beispiel}
Allgemeiner erhalten wir
\begin{prop}\label{prop6_3}
	Sei $I \unlhd R$ mit $I \neq R$. Dann gilt $I$ Primideal genau dann, wenn $R/I$ Integritätsbereich ist. $I$ ist maximales Ideal genau dann, wenn $R/I$ Körper ist. Insbesondere sind maximale Ideale stets Primideale.
\end{prop}
\begin{proof}
	Sei $I$ ein Primideal und $a + I, b + I \in R/I$ mit $(a+I)(b+I) = 0_{R/I}$. Dann gilt $ab \in I$ und somit $a \in I$ oder $b \in I$ bzw. $a + I = 0_{R/I}$ oder $b + I = 0_{R/I}$. Also ist $R/I$ Integritätsbereich.
	
	Ist umgekehrt $R/I$ ein Integritätsbereich und $ab \in I$, so gilt $(a+I)(b+I) = 0_{R/I}$ und somit $a + I = 0_{R/I}$ oder $b+I = 0_{R/I}$ bzw. $a \in I$ oder $b \in I$. Also ist $I$ Primideal.
	
	Für den zweiten Teil nutze, dass
	\[I\;\text{maximales Ideal} \;\overset{\text{Satz \ref{satz4_13} (b)}}{\Leftrightarrow}\; R/I \; \text{hat nur die Ideale}\;\{0_{R/I}\}\;\text{und}\;R/I \;\overset{\text{Satz \ref{rem5_2} (ii)}}{\Leftrightarrow}\; R/I \;\text{Körper}.\]
\end{proof}
\begin{satz}\label{satz6_4}
	$R$ besitzt ein maximales Ideal.
\end{satz}
\begin{proof}
	Wir nutzen das \textit{Lemma von Zorn}: Jede halbgeordnete Menge ($M \neq \emptyset$ mit $\leq$ reflexiv, transitiv, antisymmetrisch), in der jede Kette eine obere Schranke hat, enthält ein maximales Element.
	
	Sei $M := \{I \unlhd R \mid I \neq R\} \neq \emptyset$. $M$ ist halbgeordnet durch Inklusion. Sei $\emptyset \neq K \subseteq M$ eine Kette in $M$, d.h. für alle $I_1, I_2 \in K$ gilt $I_1 \subseteq I_2$ oder $I_2 \subseteq I_1$. Die Menge $K$ ist somit geordnet. Setze $ J := \bigcup_{I \in K} I$ und zeige $J \in M$.
	
	Seien $a_1, a_2 \in J$. Dann existieren $I_1, I_2 \in K$ mit $a_1 \in I_1$ und $a_2 \in I_2$. Sei o. B. d. A. $I_1 \subseteq I_2$. Da $I_2 \unlhd R$ gilt $a_1 - a_2 \in I_2 \subseteq J$ und $ra_i  \in I_2 \subseteq J$ für alle $r \in R$ und $i = 1,2$. Also ist $J$ ein Ideal in $R$. Zudem gilt, dass $J \neq R$, da sonst $1_R \in J$ und somit $1_R \in I$ für ein $I \in K$. Ein Widerspruch. Es folgt $J \in M$ und $J$ ist obere Schranke von $K$. Das \textit{Lemma von Zorn} liefert ein maximales Element $I_{\max}$ in $M$. $I_{\max}$ ist nach Definition ein maximales Ideal.
\end{proof}
\begin{beispiel}\label{beispiel6_5}
	\begin{enumerate}[label=(\arabic*)]
		\item Sei $K$ ein Körper und $a \in K$. Der Einsetzungshomomorphismus $\varphi_a \colon K[x] \to K$ mit $f \mapsto f(a)$ ist surjektiv. Nach Beispiel \ref{beispiel5_15} (1) ist $K[x]$ Hauptidealring und es folgt
		\[\ker(\varphi_a) = (x-a).\]
		Nach Satz Satz \ref{satz4_11} (a) ist
		\[\faktor{K[x]}{(x-a)} \cong K.\]
		Somit ist $(x-a)$ ein maximales Ideal in $K[x]$ nach Proposition \ref{prop6_3}. Im Allgemeinen ist aber nicht jedes maximale Ideal in $K[x]$ von dieser Form. Für $K = \R$ gilt nach Beispiel \ref{beispiel4_12} 
		\[\faktor{\R[x]}{(x^2 + 1)} \cong \C.\]
		Somit ist $(x^2 + 1)$ ein maximales Ideal in $\R[x]$.
		\item Primideale in einem Integritätsbereich $R$ induzieren stets Primideale im Polynomring $R[x]$. Betrachte für $I \unlhd R, I \neq R$ den Ringhomomorphismus
		\[\varphi \colon R \to \left(\faktor{R}{I}\right)[x],\quad r \mapsto r + I.\]
		Der Einsetzungshomomorphismus
		\[\varphi_x \colon R[x] \to \left(\faktor{R}{I}\right)[x], \quad \sum a_i x^i \mapsto \sum (a_i + I) x^i\]
		ist surjektiv mit $\ker(\varphi_x) = \{\sum a_i x^i \mid a_i \in I\} =: I(x) \unlhd R[x]$. Satz \ref{satz4_11} (a) liefert $R[x] / I[x] \cong (R/I)[x]$. Nun gilt:
		\begin{align*}I \;\text{Primideal}  \quad&\overset{\text{Prop. \ref{prop6_3}}}{\Leftrightarrow}\quad \faktor{R}{I} \text{ Integritätsbereich} \quad\overset{\text{Bem. \ref{rem5_9} (ii)}}{\Leftrightarrow}\quad \faktor{R[x]}{I[x]} \; \text{Integritätsbereich}\\
	  &\overset{\text{Prop \ref{prop6_3}}}{\Leftrightarrow}\quad I[x] \; \text{Primideal}.\end{align*}		
		Im Allgemeinen ist aber nicht jedes Primideal in $R[x]$ von dieser Form. Für $R=\Z$ gilt $\Z[x] / (x) \cong \Z$. Somit ist $(x)$ Primideal in $\Z[x]$ nach Proposition \ref{prop6_3}. Aber $(x) = \{a_1 x + a_2 x^2 + \dots + a_n x^n \mid a_i \in \Z, n \in \N\}$ ist nicht von der Form $I[x]$ für $I \unlhd \Z$. Beachte, dass 
		\begin{align*}
			(x) \subsetneq (2,x) \subsetneq \Z[x].
		\end{align*}
		Das Primideal $(x)$ ist nicht maximal. Es ist enthalten im maximalen Ideal $(2,x)$ von $\Z[x]$ (siehe Beispiel \ref{beispiel5_15} und Aufgabe W.10.6).
 	\end{enumerate} 
\end{beispiel}
\begin{leftbar}
	\textit{Wir wollen Primideale und maximale Ideale in Integritätsbereichen mittels ausgezeichneter Elemente besser verstehen.}
\end{leftbar}


\begin{definition}
	Sei $R$ Integritätsbereich und $a,b \in R$.
	\begin{enumerate}[label=(\alph*)]
		\item Wir sagen $a$ \textbf{teilt} $b$, wenn es ein $c \in R$ gibt mit $a \cdot c = b$. Wir schreiben $a \mid b$.
		\item Das Element $a$ heißt \textbf{assoziiert} zu $b$, wenn $a \mid b$ und $b \mid a$. Wir schreiben $a \sim b$.
		\item Ein Element $p \in R \setminus \{0\}$ heißt \textbf{prim} oder \textbf{Primelement}, wenn $p \notin R^\times$ und $p \mid ab$ nur dann, wenn $p \mid a$ oder $p \mid b$.
		\item Ein Element $u \in R\setminus \{0\}$ heißt \textbf{unzerlegbar} oder \textbf{irreduzibel}, wenn $u \notin R^\times$ und $u = ab$ nur dann, wenn $a \in R^\times$ oder $b \in R^\times$.
	\end{enumerate}
\end{definition}
\begin{rem}\label{rem6_7}
	\begin{enumerate}[label=(\roman*)]
		\item Es gilt
		\begin{align*}
			&a \mid b& \;&\Leftrightarrow&\; &b \in (a)& \;&\Leftrightarrow&\; &(b) \subseteq (a)&\\
			&a \sim b& \;&\Leftrightarrow&\; &(a) = (b)& \;&\Leftrightarrow&\; &\exists c \in R^\times: u = cb&.
		\end{align*}  
		Vergleiche Aufgabe M.8.5. Assoziiertheit ist eine Äquivalenzrelation.
		\item Primelemente sind stets unzerlegbar.
		\begin{proof}
			Sei $p \in R$ prim mit $p = ab$ für $a,b \in R$. Folglich gilt $p \mid a$ oder $p \mid b$. O. B. d. A. gelte $p \mid a$ , d. h. es existiert $c \in R$, so dass $pc = a$. Also ist $p = ab = pcb$. Da $R$ Integritätsbereich folgt $cb = 1_R$ und $b \in R^\times$. Somit ist $p$ unzerlegbar.
		\end{proof}
		Die Umkehrung gilt im Allgemeinen nicht (siehe Beispiel \ref{beispiel6_8} (2)).
	\end{enumerate}
\end{rem}
\begin{beispiel}\label{beispiel6_8}
	\begin{enumerate}[label=(\arabic*)]
		\item In $\Z$ sind $n$ und $-n$ assoziiert für $n \in \Z \setminus \{0\}$. Die Primelemente sind genau die unzerlegbaren Elemente und gegeben durch
		\[\{\pm p \mid p \;\text{Primzahlen}\}.\]
		\item $2 \in \Z[\sqrt{-5}]$ ist unzerlegbar, aber nicht prim.
		\begin{proof}
			Betrachte $N \colon \Z[\sqrt{-5}] \to \N_0$ mit $a+b\sqrt{-5} \mapsto a^2 + 5b^2$. Wie in Beispiel \ref{beispiel5_15} (3), folgt
			\[\Z[\sqrt{-5}]^\times = \{x \in \Z[\sqrt{-5}] \mid N(x) = 1\} = \{\pm 1\} \not\ni 2.\]
			Schreibe $2 = xy$ mit $x,y \in \Z[\sqrt{-5}]$. Dann gilt $4 = N(2) = N(xy) = N(x)N(y)$. Da es kein $a,b \in \Z$ mit $N(a+b\sqrt{-5}) = a^2 + 5b^2 = 2$, folgt $N(x) = 1$ oder $N(y) = 1$, d. h. 2 ist unzerlegbar. Aber $2 \mid (1 + \sqrt{-5})(1 - \sqrt{-5}) = 6 = 2 \cdot 3$ und $2 \mid x$ mit $x \in \Z[\sqrt{-5}]$ bedeutet, dass $y \in \Z[\sqrt{-5}]$ existiert mit $2y = x$ und somit $N(x) = N(2y) = N(2) N(y) = 4 \cdot N(y)$, also insbesondere $4 \mid N(x)$. Da $N(1 \pm \sqrt{-5}) = 6$, teilt 2 weder $1 + \sqrt{-5}$ noch $1 - \sqrt{-5}$ und ist daher nicht prim.
		\end{proof}
	\end{enumerate}
\end{beispiel}
\begin{prop}\label{prop6_9}
\begin{enumerate}[label=(\alph*)]
	\item 	Sei $R$ ein Integritätsbereich und $p \in R \setminus \{0_R\}$. Dann gilt
	\begin{align*}
		(p) \unlhd R \text{ Primideal} &\Leftrightarrow p \text{ prim}\\
		(p) \unlhd R \text{ maximal} &\Leftrightarrow p \text{ unzerlegbar}
	\end{align*}
	\item Sei $R$ ein Hauptidealring und $u \in R$ unzerlegbar. Dann ist $(u) \unlhd R$ maximal. Insbesondere sind die unzerlegbaren Elemente in $R$ genau die Primelemente und ein Ideal $\{0_R\} \neq I \unlhd R$ ist maximal genau dann, wenn $I$ ein Primideal ist.
\end{enumerate}	
\end{prop}
\begin{proof}
	\begin{enumerate}[label=(\alph*)]
		\item 
		\begin{align*}
			(p) \unlhd R \text{ Primideal} &\overset{\text{Def.}}{\Leftrightarrow} (p) \neq R, \forall a,b\in R: ab \in (p) \Rightarrow a \in (p) \lor b \in (p)\\
			&\overset{\text{Bem. \ref{rem6_7} (1)}}{\Leftrightarrow} p \notin R^\times \land \forall  a,b \in R: p \mid ab \Rightarrow p \mid a \lor p \mid b \overset{\text{Def.}}{\Leftrightarrow} p \text{ prim}.
		\end{align*}
		Sei nun $(p) \unlhd R$ maximal. Nach Proposition \ref{prop6_3} ist $(p) \unlhd R$ Primideal und somit $p$ prim. Aber dann ist $p$ unzerlegbar nach Bemerkung \ref{rem6_7} (2).
		\item Sei $R$ ein Hauptidealring und $u \in R$ unzerlegbar. Sei weiter $I \unlhd R$ mit $(u) \subseteq I \subsetneq  R$. Schreibe $I = (a)$ mit $a \notin R^\times$. Da $(u) \subseteq (a)$, folgt $a \mid u$, d.h. es existiert $b \in R$ mit $ab = u$. Da $u$ unzerlegbar ist und $a \notin R^\times$, gilt $b \in R^\times$, d. h. $u \sim a$ bzw. $(u) = (a)$. Also ist $(u) \unlhd R$ maximal.
		
		Insbesondere ist $(u)$ ein Primideal und $u$ somit prim, d. h. die unzerlegbar Elemente in $R$ stimmen mit den Primelementen überein.
	\end{enumerate}
\end{proof}
\begin{beispiel}\label{beispiel6_10}
	\begin{enumerate}[label=(\arabic*)]
		\item Nach dem Fundamentalsatz der Algebra sind die unzerlegbaren Elemente in $\C[x]$ Polynome der Form $wx + z$ mit $w,z \in \C$ und $w \neq 0$. Da $\C[x]$ Hauptidealring ist, sind die maximalen Ideale in $\C[x]$ nach Proposition \ref{prop6_9} genau die Ideale der Form $(x-z)$ mit $z \in \C$ (siehe auch Beispiel \ref{beispiel6_5} (1)). $\{0\}$ ist das einzige Primideal in $\C[x]$, das nicht maximal ist.
		\item Unzerlegbare Elemente in $\R[x]$ sind genau 
		\begin{itemize}
			\item lineare Polynome,
			\item quadratische Polynome ohne reelle Nullstellen.
		\end{itemize}
		Nutze dazu, dass ein Polynom $f \in \R[x]$ mit Nullstelle $w \in \C \setminus \R$ auch $\bar{w} \in \C\setminus\R$ als Nullstelle hat. Da $(x-w)(x-\bar{w}) \in \R[x]$, haben wir ein Polynom vo, Grad 2 in $\R[x]$ gefunden, das $f$ teilt. Da auch $\R[x]$ Hauptidealring ist, sind die maximalen Ideale in $\R[x]$ wiederum nach Proposition \ref{prop6_9} genau die Ideale der Form $(x-z)$ mit $z \in \R$ und $(x^2 + ax + b)$ mit $a,b \in \R$ und $a^2 - 4b < 0$. Diese entsprechen bijektiv den Elementen der abgeschlossenen oberen komplexen Halbebene.
		\item Unzerlegbare Elemente in allgemeinen Polynomringen sind gewöhnlich schwieriger zu klassifizieren (dazu später mehr). Zum Beispiel gibt es in $\Z[x]$ für jedes $n \in \N_0$ ein unzerlegbares Polynom vom Grad $n$. Für $n \neq 0$ gibt es auch in $\Z_p[x]$ mit $p$ Primzahl stets ein unzerlegbares Polynom vom Grad $n$.
	\end{enumerate}
\end{beispiel}

\begin{leftbar}
	Wir wollen verstehen, in welchen Integritätsbereichen sich nicht-invertierbare Elemente ungleich Null, auf eindeutige Weise, als endliche Produkte unzerlegbarer Elemente schreiben lassen. 
\end{leftbar}
\begin{definition}
	Ein Integritätsbereich $R$ heißt \textbf{faktoriell}, wenn gilt
	\begin{itemize}
		\item Jedes Element in $R \setminus (R^\times \cup \{0_R\})$ ist endliches Produkt unzerlegbarer Elemente.
		\item Ist $p_1 \cdot \hdots \cdot p_m = q_1 \cdot \hdots \cdot q_n$ mit $p_i, q_j$ unzerlegbar, dann folgt $m = n$ und nach Umsortierung $p_i \sim q_i$ für $1 \leq i \leq m$.
	\end{itemize}
\end{definition}
\begin{beispiel}\label{beispiel6_12}
	$\Z$ ist faktoriell. Bis auf Vorzeichen und Reihenfolge existiert für jedes $n \in \Z \setminus \{0, \pm1\}$ eine eindeutige Zerlegung in Primelemente bzw. unzerlegbare Elemente. Die Existenz einer solchen Zerlegung lässt sich wie folgt begründen:
	
	Entweder ist $n > 1$ unzerlegbar oder $n = ab$ mit $1 < a,b < n$. Induktiv existieren gewünschte Zerlegungen für $a$ und $b$ und somit auch für $n$. 
	
	Wir nutzen, dass $(\Z, \leq)$ eine geordnete Menge ist. Im Allgemeinen existiert in Ringen keine solche Ordnungsrelation und wir müssen anders argumentieren.
\end{beispiel}
\begin{satz}\label{satz6_13}
	Jeder Hauptidealring $R$ ist faktoriell.
\end{satz}
\begin{proof}
	\begin{enumerate}
		\item Hauptidealringe sind \textbf{noethersch}, d.h. für jede aufsteigende Kette von Idealen $I_1 \subseteq I_2 \subseteq I_2 \subseteq \dots$ in $R$ existiert ein $n \in \N$ mit $I_n = I_{n+1} = \dots$. Setze dazu $I := \bigcup_{t \in \N} I_t \unlhd R$ (siehe Beweis von Satz \ref{satz6_4}). Dann existiert $r \in R$ mit $I = (r)$ und somit ein $n \in \N$ mit $r \in I_n$. Es folgt $I_n = I_{n+1} = \dots$, wie gewünscht. 
		
		Nun sei $a \in R \setminus (R^\times \cup \{0_R\})$. Ist $a$ zerlegbar, so existieren $a_1, b_1 \in R \setminus (R^\times \cup \{0_R\})$ mit $a = a_1 b_1$. Dann gilt $a_1 \mid a$ und $a_1 \not\sim a$, d. h. $(a) \subsetneq (a_1)$. Ist auch $a_1$ zerlegbar, so existieren $a_2, b_2 \in R \setminus (R^\times \cup \{0_R\})$ mit $a_1 = a_2 b_2$. Wir erhalten $(a) \subsetneq (a_1) \subsetneq (a_2)$ und nach wiederholter Anwendung
		\[(a) \subsetneq (a_1) \subsetneq (a_2) \subsetneq (a_3) \subsetneq \dots.\]
		Da diese Kette stationär werden muss, finde wir $q_1 \in R$ unzerlegbar mit $a = q_1 a'$. Wiederholen wir diesen Prozess für $a'$, finden wir $q_2 \in R$ unzerlegbar mit $a = q_1 q_2 a''$ usw. Da auch die Kette von Idealen
		\[(a) \subsetneq (a') \subsetneq (a'') \subsetneq \dots\]
		stationär werden muss, ist $a = q_1 \cdot \dots \cdot q_n$ endliches Produkt unzerlegbarer Elemente.
		\item In Hauptidealringen sind  die unzerlegbaren Elemente genau die Primelemente (siehe Proposition \ref{prop6_9} (b)). 
		
		Sei nun $a = p_1 \cdot \dots \cdot p_m = q_1 \cdot \dots \cdot q_n$ mit $p_i, q_j$ unzerlegbar. Da $p_1 \mid q_1 \cdot \dots \cdot q_n$ und $p_1$ prim, existiert $j \in \{1,\dots,n\}$ mit $p_1 \mid q_j$. Sei o. B. d. A. $j = 1$. Also existiert $c \in R$ mit $p_1 c   = q_1$. Da $q_1$ unzerlegbar ist folgt, $c \in R^\times$ und $p_1 \sim q_1$. Kürzen liefert
		\[p_2 \cdot \dots \cdot p_m = q_2' \cdot q_3 \cdot \dots \cdot q_n\]
		mit $q_2' \sim q_2$. Induktiv folgt $m = n$ und nach Umsortierung $p_i \sim q_i$ für $1 \leq i \leq m$.
	\end{enumerate}
\end{proof} 
\begin{rem}\label{rem6_14}
	Sei $R$ ein faktorieller Ring und $p \in R$. Dann gilt 
	\[p \text{ prim} \quad\Leftrightarrow\quad p \text{ unzerlegbar}.\]
	\begin{proof}
		\glqq{}$\Leftarrow$\grqq: Seien $a, b \in R$ mit $p \mid ab$, d. h. es existiert $c \in R$ mit $pc = ab$. Betrachte Zerlegungen von $a,b,c$ in unzerlegbare Elemente. Da $R$ faktoriell und $p$ unzerlegbar ist, muss $p$ bis auf Assoziiertheit in der Zerlegung von $ab$ vorkommen und somit in der von $a$ oder von $b$. Also $p \mid a$ oder $p \mid b$.
	\end{proof}
\end{rem}
\begin{definition}\label{definition6_15}
	Sei $R$ ein Integritätsbereich und $a,b \in R$.
	\begin{enumerate}[label=(\alph*)]
		\item $d \in R$ heißt \textbf{größter gemeinsamer Teiler} von $a$ und $b$, wenn $d \mid a \land d \mid b$ sowie für alle $e \in R$ gilt $e \mid a \land e \mid b$ nur dann, wenn $e \mid d$.
		\item $m \in R$ heißt  \textbf{kleinstes gemeinsames Vielfaches} von $a$ und $b$, wenn $a \mid m \land b \mid m$ sowie für alle $n \in R$ gilt $a \mid n \land b \mid n$ nur dann, wenn $m \mid n$.
	\end{enumerate}
\end{definition}
\begin{rem}\label{rem6_16}
	\begin{enumerate}[label=(\roman*)]
		\item Existieren $\ggt$ und $\kgv$, so sind sie nur eindeutig bis auf Multiplikation mit einer Einheit.
		\item In einem faktoriellen Ring existieren stets $\ggt$ und $\kgv$. 
		
		Sei $P_R$ ein Repräsentantensystem der Klassen assoziierter Primelemente und seien $a,b \in R\setminus\{0_R\}$ mit $a = \Sigma_a p_1^{a_1} \cdots p_n^{a_n}$ und $b = \Sigma_b p_1^{b_1} \cdots p_n^{b_n}$ für $a_i,b_i \in \N_0, \Sigma_a, \Sigma_b \in R^\times, p_i \in P_R$ mit $p_i \not\sim p_j$ für $i \neq j$. Dann ist $\prod_i p_i^{\min(a_i,b_i)}$ ein $\ggt$ und $\prod_i p_i^{\max(a_i,b_i)}$ ein $\kgv$ der Elemente $a$ und $b$.
		\item In einem euklidischen Ring lässt sich ein $\ggt$ mit Hilfe des euklidischen Algorithmus bestimmen, also durch wiederholte Division mit Rest (vgl. Beispiel \ref{beispiel4_17} und Aufgabe V.8.1, M.11.5, M.11.6).
	\end{enumerate}
\end{rem}
\begin{beispiel}\label{beispiel6_17}
	In $\Z[\sqrt{-5}]$ existiert kein $\ggt$ von $x = 6$ und $y = 2 + 2\sqrt{-5}$.
	\begin{proof}
	Angenommen, $d$ sei ein solcher $\ggt$. Sei $N \colon \Z[\sqrt{-5}] \to \N_0$ mit $a + b \sqrt{-5} \mapsto a^2 + 5b^2$ wie in Beispiel \ref{beispiel6_8} (2). Dann gilt $N(d) \mid N(x) = 36$ und $N(d) \mid N(y) = 24$.
	
	Da 2 sowohl $x$ als auch $y$ teilt, folgt $2 \mid d$ und somit $4 = N(2) \mid N(d)$. Ebenso teilt $1 + \sqrt{-5}$ sowohl $x$ als auch $y$, so dass $6 = N(1 + \sqrt{-5}) \mid N(d)$. Es folgt $N(d)= 12$. Aber es existieren keine $a,b \in \Z$ mit $N(a + b\sqrt{-5}) = 12$. Ein Widerspruch.
	\end{proof}
\end{beispiel}
Wir zeigen nun, dass für $R$ faktoriell auch $R[x]$ ein faktorieller Ring ist!
\begin{definition}\label{definition6_18}
	Sei $R$ ein faktorieller Ring und $f = \sum_{i=0}^n a_i x^i \in R[x]$. Die Menge aller $\ggt$ von $a_0, a_1, \dots, a_n$ heißt \textbf{Inhalt} von $f$. Wir schreiben $\cont_R(f)$. Wir nennen $f$ \textbf{primitiv}, wenn $\cont_R(f) = R^\times$.
\end{definition}
\begin{beispiel}\label{beispiel6_19}
	\begin{enumerate}[label=(\arabic*)]
		\item Ist $K$ ein Körper, so ist jedes Polynom $f \in K[x]\setminus\{0_{K[x]}\}$ primitiv.
		\item $f = 2x + 2$ ist nicht primitiv in $\Z[x]$, jedoch in $\Q[x]$. Es gilt $\cont_\Z (f) = \{\pm 2\}$ und $\frac{1}{2}f = x + 1$ ist primitiv in $\Z[x]$.
	\end{enumerate}
\end{beispiel}
\begin{lem}\label{lem6_20}
	Sei $R$ ein faktorieller Ring mit Quotientenkörper $\quot(R)$
	\begin{enumerate}[label=(\alph*)]
		\item Ist $f \in R[x]\setminus\{0_{R[x]}\}$ und $d \in \cont_R(f)$, so ist $\frac{1}{d} f \in R[x]$ primitiv.
		\item Ist $f \in R[x]$ primitiv und $c \in \quot(R)$ mit $cf \in R[x]$, so ist $c \in R$.
		\item Ist $f \in \quot(R)[x]\setminus \{0_{R[x]}\}$, so gibt es $c \in \quot(R) \setminus \{0_{R}\}$ und $g \in R[x]$ primitiv mit $f = cg$.
	\end{enumerate}
\end{lem}
\begin{proof}
	\begin{enumerate}[label=(\alph*)]
		\item Folgt aus der Definition vom $\ggt$.
		\item Schreibe $f = \sum_{i=0}^n a_i x^i$ und $c = \frac{a}{b}$ für $a,b \in R$ teilerfremd und $b \neq 0_R$. Da $cf \in R[x]$, gilt $\frac{a a_i}{b} \in R$ für $i = 0,\dots, n$. Somit ist jeder Primteiler $p \in R$ von $b$ auch Primteiler von $a_i$ für $i = 0,\dots,n$. Da $f$ primitiv ist, existiert kein solcher gemeinsamer Primteiler, d. h. $b \in R^\times$ bzw. $c =\frac{a}{b} \in R$.
		\item Schreibe $f = \sum_{i=0}^n \frac{a_i}{b_i} x^i$ mit $a_i \in R, b_i \in R\setminus \{0_R\}$. Dann ist $f' := (b_0 \cdots b_n)\cdot f \in R[x] \setminus\{0_{R[x]}\}$ und für $d \in \cont_R(f')$ gilt nach \textbf{(a)}, dass $g := \frac{1}{d} \cdot f' \in R[x]$ primitiv. Insbesondere folgt für $c := \frac{d}{b_0 \cdots b_n} \in \quot(R)\setminus \{0_R\}$, dass $c \cdot g = f$.
	\end{enumerate}
\end{proof}
\begin{beispiel}\label{beispiel6_21}
	Für $f = x^2 + 3x + \frac{1}{5} \in \Q[x]$ ist $f = c\cdot g$ mit $g = 5x^2 + 15 x + 1$ in $\Z[x]$ primitiv und $c = \frac{1}{5} \in \Q$.
\end{beispiel}
\begin{rem}\label{rem6_22}
	Sei $R$ Integritätsbereich und $p \in R$ prim. Dann ist $p$ auch prim im Polynomring $R[x]$.
	\begin{proof}
		Betrachte dazu das Primideal $I = (p) \unlhd R$. Nach Beispiel \ref{beispiel6_5} (2) induziert $I$ das Primideal $I(x) := \{\sum_i a_i x^i \mid a_i \in I\} \unlhd R[x]$. Aber es gilt $I(x) = (p)$ in $R[x]$. Somit ist $p$ Primelement in $R[x]$ nach Proposition \ref{prop6_9}.
	\end{proof}
\end{rem}

\begin{thm}[Lemma von Gauß]\label{thm6_23}
	Sei $R$ ein faktorieller Ring mit Quotientenkörper $\quot(R)$.
	\begin{enumerate}[label=(\alph*)]
		\item Sind $f,g \in R[x]$ primitiv, so ist auch $f \cdot g$ primitiv.
		\item Ist $f \in R[x]$ primitiv und prim in $\quot(R)[x]$, so ist $f$ prim in $R[x]$. 
		\item $R[x]$ ist faktorieller Ring.
	\end{enumerate}
\end{thm}
\begin{proof}
	\begin{enumerate}[label=(\alph*)]
		\item Angenommen, $f \cdot g$ ist nicht primitiv. Dann existiert ein $p \in R$ mit 
		\[p \mid f \cdot g\quad \text{in}~ R[x].\]
		Nach Bemerkung \ref{rem6_22} ist $p$ prim in $R[x]$, d. h. $p\mid f$ oder $p \mid g$. Aber dann teilt $p$ alle Koeffizienten des entsprechenden Polynoms. Dies widerspricht der Annahme, dass $f, g$ primitiv.
		\item Nach Voraussetzung ist $f \neq 0_{R[x]}$ und $f \notin R[x]^\times$. Seien $g, h \in R[x]$ mit $f \mid gh$ in $R[x]$. Da $f$ prim in $\quot(R)[x]$ ist, teilt $f$ entweder $g$ oder $h$ in $\quot(R)[x]$. Gelte o. B. d. A. $f \mid g$ in $\quot(R)[x]$ und $g \neq 0_{R[x]}$, d. h.
		\[\exists k \in \quot(R)[x] \setminus \{0_{R[x]}\} \;\text{mit}\; f \cdot k = g.\]
		\underline{Genügt zu zeigen:} $k \in R[x]$.
		
		Nutze Lemma \ref{lem6_20} \textbf{(c)} und schreibe $k = c\cdot q$ mit $c \in \quot(R) \setminus \{0_{R}\}$ und $q \in R[x]$ primitiv. Es folgt $g = f  \cdot k = c \cdot (f \cdot q)$, wobei $f \cdot q$ nach Teil \textbf{(a)} primitiv ist. Mit Lemma \ref{lem6_20} \textbf{(b)} folgt $c \in R$ und somit $k = c\cdot q \in R[x]$.
		
		\item $R[x]$ ist Integritätsbereich und es gilt $R[x]$ ist faktoriell genau dann, wenn jedes Element in $R[x] \setminus (R^\times \cup \{0_R\})$ endliches Produkt von Primelementen ist.
		
		\glqq$\Rightarrow$\grqq: Folgt mit Bemerkung \ref{rem6_14}.
		
		\glqq$\Leftarrow$\grqq: Primelemente sind unzerlegbar. Die Eindeutigkeit der Zerlegung folgt wie im Beweis von Satz \ref{satz6_13}.
		
		
		Sei also $f \in R[x] \setminus (R^\times \cup \{0_R\})$. Ist $\deg(f) = 0$, d.h. $f \in R$, so existiert eine endliche Zerlegung in Primelemente von $R$. Nach Bemerkung \ref{rem6_22} ist dies auch eine Zerlegung in Primelemente von $R[x]$. Sei also $\deg(f) \geq 1$ und $f$ somit keine Einheit in $\quot(R)[x]$. Nach Satz \ref{satz6_13} ist $\quot(R)[x]$ faktoriell, d. h. es existieren $q_1, \dots, q_n \in \quot(R)[x]$ prim mit $f = q_1 \cdots q_n$. Nutze Lemma \ref{lem6_20} \textbf{(c)} und schreibe $q_i = c_i p_i$ mit $c_i \in \quot(R) \setminus \{0_R\}$ und $p_i \in R[x]$ primitiv. Da $q_i \sim p_i$ in $\quot(R)[x]$, ist auch $p_i$ prim in $\quot(R)[x]$. Nach Teil \textbf{(b)} ist $p_i$ dann auch prim in $R[x]$.
		
		Nach Teil \textbf{(a)} ist zudem $p := p_1 \cdots p_n \in R[x]$ primitiv, so dass 
		\[f = (c_1 \cdots c_n) \cdot p \in R[x]\]
		mit Lemma \ref{lem6_20} \textbf{(b)} impliziert, dass $c := c_1 \cdots c_n \in R$. Ist $c \in R^\times$, so liefert $f = c\cdot p_1 \cdots p_n$ eine gewünschte Zerlegung. Andernfalls schreibe $c = a_1 \cdots a_m$ mit $a_j \in R$ prim. Da die $a_j$ auch prim in $R[x]$ sind, ist $f = a_1 \cdots a_m \cdot p_1 \cdots p_n$ eine gewünschte Zerlegung von $f$ in Primelemente von $R[x]$.
	\end{enumerate}
\end{proof}
\textbf{Hierarchie kommutativer Ringe. }
% TODO Grafik VL 13.01.2025


\begin{leftbar}
	Wir wollen noch Kriterien kennenlernen, um zu entscheiden, ob ein gegebenes Polynom (z. B. in $\Z[x]$ oder $\Q[x]$) unzerlegbar ist.
	
\end{leftbar}

\begin{satz}[Eisenstein-Kriterium]\label{satz6_24}
	Sei $R$ ein faktorieller Ring und $f := \sum_{i=0}^n a_i x^i \in R[x] \setminus R^\times$ primitiv. Gibt es ein Primelement $p \in R$, so dass $p \mid a_0, \dots, a_{n-1}$ und $p^2 \nmid a_0$, so ist $f$ unzerlegbar in $R[x]$.
\end{satz}
\begin{proof}
	Sei $f = g\cdot h$ für $g, h \in R[x]$. Schreibe $g = \sum_{i=0}^k b_i x^i$ mit $\deg(g) = k$ und $h = \sum_{j = 0}^\ell c_j x^j$ mit $\deg(h) = \ell$.
	
	Ist $k = 0$, so ist $g \in R$ Teiler aller Koeffizienten von $f$, d. h. $g \in R^\times$, da $f$ primitiv. Analog ist $h \in R^\times$ für $\ell = 0$.
	
	Angenommen $0 < k,\ell < n$. Für $s = 0, \dots, n$ erhalten wir
	\begin{equation}\label{satz6_24_prf_eq1}
		a_s = \sum_{i+j = s} b_i c_j.
	\end{equation}
	Sei $p \in R$ Primelement wie in der Voraussetzung gefordert. Da $p \mid a_0 = b_0 c_0$. Gelte o. B. d. A. $p \mid b_0$. Da $p^2 \nmid a_0$, gilt dann $p \nmid c_0$. Wir zeigen nun per Induktion, dass 
	\[p \mid b_i \quad \text{für alle} \; i \in \{0,\dots, k\}.\]
	Die Aussage gelte für alle Indizes von $0$ bis $i-1$. Mit \eqref{satz6_24_prf_eq1} erhalten wir
	\[b_i c_0 = a_i - b_{i-1} c_1 - b_{i-2} c_2 - \dots - b_0 c_i.\]
	Nach Induktionsvoraussetzung und da $p \mid a_i$ für $i \leq k < n$, folgt $p \mid b_i c_0$. Aber $p \nmid c_0$ und somit $p \mid b_i$, d. h. $p$ teilt jeden Koeffizienten von $g$. Insbesondere bedeutet dies $p \mid b_k c_\ell = a_n$, was im Widerspruch zur Annahme steht, dass $f$ primitiv ist.
\end{proof}
\begin{beispiel}\label{beispiel6_25}
	Sei $f = x^5 - 4x + 2$ in $\Z[x]$. Das Polynom $f$ ist primitiv und die Primzahl $p = 2$ teilt alle Koeffizienten bis auf den Leitkoeffizienten und den konstanten Teil von $f$ nur einfach. Nach Satz \ref{satz6_24} ist $f$ unzerlegbar in $\Z[x]$.
\end{beispiel}
Das Eisenstein-Kriterium lässt sich jedoch nicht unmittelbar nutzen, um Unzerlegbarkeit in $K[x]$ für einen Körper $K$ zu untersuchen. Wir können uns aber wie folgt behelfen:
\begin{satz}\label{satz6_26}
	Sei $R$ ein faktorieller Ring mit Quotientenkörper $\quot(R)$. Dann ist $f \in R[x] \setminus R$ unzerlegbar in $R[x]$ genau dann, wenn $f$ primitiv in $R[x]$ ist und unzerlegbar in $\quot(R)[x]$.
\end{satz}
\begin{proof}
	Nach Theorem \ref{thm6_23} \textbf{(c)} ist $R[x]$ faktoriell und somit gilt \glqq{}prim=unzerlegbar\grqq{ } in $R, R[x]$ und $\quot(R)[x]$. Die Implikation \glqq{}$\Leftarrow$\grqq{ } ist dann genau Theorem \ref{thm6_23} \textbf{(c)}. 
	
	\glqq{}$\Rightarrow$\grqq: Sei $f \in R[x] \setminus R$ unzerlegbar in $R[x]$. Nach Voraussetzung ist $f$ primitiv in $R[x]$ und keine Einheit in $\quot(R)[x]$. Sei nun $f = gh$ mit $g,h \in \quot(R)[x] \setminus \{0_{R[x]}\}$ und schreibe mit Lemma \ref{lem6_20} \textbf{(c)} 
	\begin{align*}
		g &= c \cdot p\\
		h &= d \cdot q
	\end{align*}
	für $c,d \in \quot(R)\setminus\{0_R\}$ und $p,q \in R[x]$ primitiv. Es folgt $f = (c \cdot d) \cdot p \cdot q \in R[x]$. $p\cdot q$ ist primitiv nach Theorem \ref{thm6_23} \textbf{(a)} und somit $c \cdot d \in R$ nach Lemma \ref{lem6_20} \textbf{(b)}. Da $f$ unzerlegbar in $R[x]$ ist, müssen zwei der Faktoren $cd, p, q$ Einheiten in $R[x]$ sein, d. h. in $R^\times$ liegen. Dann ist aber $g = c\cdot p$ oder $h = d \cdot q$ eine Einheit in $\quot(R)[x]$, wie gewünscht.
\end{proof}

Somit sind nicht-konstante unzerlegbare Polynome in $\Z[x]$, wie $f = x^5 - 4x + 2$ aus Beispiel \ref{beispiel6_25}, auch unzerlegbar in $\Q[x]$.

Unzerlegbarkeit in $\Z[x]$ lässt sich auch modulo einer Primzahl $p$ untersuchen.
\begin{satz}\label{satz6_27}
	Sei $R$ ein faktorieller Ring, $p \in R$ prim und $f = \sum_{i=0}^n a_i x^i \in R[x]$ primitiv mit $p \nmid a_n$. Ist das Bild von $f$ unter
	\begin{align*}
		\phi_p \colon R[x] &\to \faktor{R}{(p)} [x],\\
		\sum_{i} a_i x^i &\mapsto \sum_i (a_i + (p)) x^i
	\end{align*}
	unzerlegbar in $(R/(p))[x]$, so ist $f$ unzerlegbar in $R[x]$.
\end{satz}
\begin{proof}
	$\phi_p$ ist ein surjektiver Ringhomomorphismus nach Beispiel \ref{beispiel6_5} \textbf{(2)} und bildet daher Einheiten auf Einheiten ab. Nach Voraussetzung ist $f \neq 0_{R[x]}$ und keine Einheit in $R[x]$. 
	
	Sei $f = gh$ mit $g,h \in R[x]$. Da $p \nmid a_n$, teilt $p$ auch nicht die Leitkoeffizienten von $g$ und $h$, d. h.
	\[\deg(f) = \deg(\phi_p(f)), \quad \deg(g) = \deg(\phi_p(g)), \quad \deg(h) = \deg(\phi_p(h)).\]
	Betrachte $\phi_p(f) = \phi_p(g) \phi_p(h)$ in $R/(p) [x]$. Da $\phi_p(f)$ unzerlegbar und sei o. B. d. A. $\phi_p(g)$ eine Einheit in $R/(p) [x]$. Da $R/(p)$ Integritätsbereich ist, folgt $\phi_p(g) \in (R/(p))^\times$ und somit 
	\[\deg(g) = \deg(\phi_p(g)) = 0.\]
	Also ist $g \in R$ Teiler aller Koeffizienten von $f$. Mit $f$ primitiv in $R[x]$ erhalten wir $g \in R^\times = R[x]^\times$, wie gewünscht.
\end{proof}
\begin{beispiel}\label{beispiel6_28}
	Das primitive Polynom $f = x^4 + x^3 + x^2 + x + 1$ ist unzerlegbar in $\Z[x]$ und somit nach Satz \ref{satz6_26} auch in $\Q[x]$ (vgl. Aufgabe M.12.1 (b)). Nach Satz \ref{satz6_27} genügt es zu zeigen, dass $\bar{f} = x^4 + x^3 + x^2 +\bar{1}$ unzerlegbar in $\Z_2$ ist. Wäre $\bar{f}$ zerlegbar, müsste es einen unzerlegbaren Faktor vom Grad 1 oder 2 haben und somit geteilt werden von $x, x + \bar{1}$ oder $x^2 + x + \bar{1}$. Dies lässt sich mittels Polynomdivision jedoch einfach ausschließen.
\end{beispiel}